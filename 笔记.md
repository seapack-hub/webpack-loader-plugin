**1.loader**的执行顺序：从下到上，从右到左<br>
 pitch执行顺序：从上到下，从左到右,pitch先执行<br><br>
**2.同步和异步**<br>
 同步：使用return 或this.callback()方法,后两个参数选传<br>
 异步：使用this.async()<br><br>
**3.获取loader的配置options**<br>
webpack5之前使用loader-utils 中的 getOptions 方法。<br>
从 webpack 5 开始，this.getOptions 可以获取到 loader 上下文对象<br>
loader-utils 中3以上的版本剔除了getOptions方法。<br>
webpack中文文档：[https://webpack.docschina.org/api/loaders/#thisgetoptionsschema](https://webpack.docschina.org/api/loaders/#thisgetoptionsschema) <br><br>
**4.自定义babel-loader加载器**<br>
首先我们得理清楚Babel,babel-loader,webpack 之前的关系。<br>
Babel是编译工具，把高版本语法编译成低版本语法，或者将文件按自定义规则转换为js语法。通常是将ES6及以上版本的js语法转换成ES5等浏览器可直接识别的语法。<br>
webpack是打包工具，定义入口文件，将所有模块引入整理后，通过loader和plugin处理后，打包输出。<br>
babel-loader是辅助工具，让webpack通过babel-loader使用Babel.<br>
参考文件：[https://juejin.cn/post/6844904098303574023#heading-6](https://juejin.cn/post/6844904098303574023#heading-6) <br><br>

**5.Tapable 的介绍与使用**<br>
Tapable工具是 webpack 的一个核心工具，但也可用于其他地方， 以提供类似的插件接口。<br>
在 webpack 中的许多对象都扩展自 Tapable 类。 它对外暴露了 tap，tapAsync 和 tapPromise 等方法， 插件可以使用这些方法向 webpack 中注入自定义构建的步骤，这些步骤将在构建过程中触发。<br>
webpack官网地址：[https://webpack.docschina.org/api/plugins/#tapable](https://webpack.docschina.org/api/plugins/#tapable) <br>
tapable的github地址：[https://github.com/webpack/tapable#tapable](https://github.com/webpack/tapable#tapable) <br>
目前tapable暴露了很多Hook（钩子）类，为插件提供挂载的钩子
`const {
  SyncHook,
  SyncBailHook,
  SyncWaterfallHook,
  SyncLoopHook,
  AsyncParallelHook,
  AsyncParallelBailHook,
  AsyncSeriesHook,
  AsyncSeriesBailHook,
  AsyncSeriesWaterfallHook
} = require("tapable");` <br>
![](E:\我的代码\前端学习项目\webpack-loader-plugin\public\images\img.png)<br>
其中Sync代表同步，Async代表异步。 除此之外我们可以看到上面的 Hook 还带了其他关键字：Basic，Waterfall，Bail，Loop<br>
Basic hook（没有 Waterfall、Bail、Loop 在它的名字里面）：所有 tapped 的事件依次执行，互不干扰 <br>
Waterfall：与 Basic hook 不同的是它将返回值从每个函数传递到下一个函数 <br>
Bail：当任何 tapped 函数返回了任何值，bail hook 将停止执行其余的函数 <br>
Loop：若任一事件的返回值不为 undefined，则该事件链再次从头开始执行，直到所有 handler 均返回 undefined <br>

tapable 暴露出来的都是类方法，new 一个类方法获得我们需要的钩子。<br>
class 接受数组参数options，非必传。类方法会根据传参，接受同样数量的参数<br>
`const hook1 = new SyncHook(["arg1", "arg2", "arg3"]);` <br>
hook 类对外提供的方法 <br>
包括tap,tapAsync,tapPromise,call,callAsync,promise等。<br>
使用 tap/tapAsync/tapPromise 绑定钩子<br>
使用 call/callAsync/promise 执行绑定事件<br>
![](E:\我的代码\前端学习项目\webpack-loader-plugin\public\images\img_1.png) <br>
![](E:\我的代码\前端学习项目\webpack-loader-plugin\public\images\img_2.png) <br>
参考文章：[https://juejin.cn/post/6844903713312604173](https://juejin.cn/post/6844903713312604173) <br>

 
